/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||$(`.cb-add-one`).appendTo(".md-add-ons");var step=1;$(".cb-step").each(function(){$(this).html(step),step++}),$(".cb-whats-this").on("click",function(){$(".cb-cvv-box").toggleClass("show-cvv")}),$(".cb-cvv-close").on("click",function(){$(".cb-cvv-box").removeClass("show-cvv")});var preSeletedProductQuantity=app_query_params.package;setTimeout(function(){let a=[];if($(".cb-package-container").each(async function(){a.push(parseInt($(this).attr("data-quantity")))}),!a.includes(parseInt(app_query_params.package)))for(key in productsNames[app_current_step.id].mainProduct)if(productsNames[app_current_step.id].mainProduct[key].product[0].is_active){preSeletedProductQuantity=key;break}$(".cb-package-container").each(async function(){let a=parseInt($(this).attr("data-quantity"));a==preSeletedProductQuantity&&($(this).appendTo(".cb-first-item"),$(this).click())})},1e3),$(".cb-package-container").each(function(){var a=$(this).data("package-discount");$(this).find(".cb-package-main-save").html(`Save ${a}%`),$(this).find(".cb-package-main-save2").html(`${a}%`)}),""!=discount_val&&innerButton_discount(discount_val),$("#innerButton1").click(function(){innerButton_discount(10)}),$("#innerButton2").click(function(){innerButton_discount(15)}),$(".cb-discount-off").hide(),$(".cb-discount-off-order-summary").hide();async function innerButton_discount(a){switch(window.percnt=a/100,window.discount=a,$(".discountStrip").show(),$(".cb-discountPercentage").show().html(`+ ${a}% OFF`),$(".cb-discountPercentage-bnr").show().html(`+ ${a}%`),$(".cb-discount-off").html(`+ ${parseInt(a)}% OFF`),$(".cb-discount-off-order-summary").html(`+ ${parseInt(a)}%`),$(".special-dis").find(".cb-discount-off").html(`+ <span class="text-danger font-weight-bold">${parseInt(a)}%</span>`),discountTimes=0,10==a&&(discountTimes=2),parseInt(a)){case 5:$("input[name='coupon_code']").val("DISCOUNT5");break;case 10:$("input[name='coupon_code']").val("DISCOUNT10");break;case 15:$("input[name='coupon_code']").val("DISCOUNT15");break;case 20:$("input[name='coupon_code']").val("DISCOUNT20");break;case 25:$("input[name='coupon_code']").val("DISCOUNT25");}await updateProductPrice(),await showPriceCheckout();var b=$(".cb-paypemt-radio:checked").data("paymentmethod");await product_selection(b)}function updateProductPrice(){return new Promise(a=>{let b=window.percnt||0;$(".cb-package-container").each(async function(){let a=parseFloat($(this).attr("data-price")),c=math.round(parseFloat(a-a*b),2).toFixed(2),d=parseFloat($(this).attr("data-quantity")).toFixed(2);$(this).find(".cb-reg-price").html("$"+parseFloat($(this).attr("data-regPrice")).toFixed(2)),$(this).find(".cb-buy-each").html("$"+(c/d).toFixed(2)),$(this).attr("data-unitPrice",(c/d).toFixed(2)),$(this).find(".cb-buy").html("$"+parseFloat(c).toFixed(2)),$(this).find(".cb-save-price").html("$"+($(this).attr("data-regPrice")-c).toFixed(2)+"!"),$(this).attr("data-productPrice",parseFloat(c).toFixed(2)),$(this).find(".cb-persentage").html(parseFloat($(this).attr("data-package-discount")).toFixed(0))}),a(!0)})}$(document).on("click",".cb-package-container",async function(a){$(".cb-package-container").removeClass("selected"),$(this).addClass("selected"),await updateProductPrice(),await showPriceCheckout(),a.stopPropagation();var b=$(".cb-paypemt-radio:checked").data("paymentmethod");await product_selection(b)});function showPriceCheckout(){return new Promise(a=>{var b=$(".cb-package-container.selected").attr("id"),c=$(`#${b}`).attr("data-quantity"),d=$(`#${b}`).attr("data-productPrice"),e=$(`#${b}`).attr("data-ship"),f=$(`#${b}`).attr("data-regPrice"),g=(.2*parseFloat(f)).toFixed(2),h=$(`#${b}`).data("name"),i=$(`#${b}`).attr("data-package-discount"),j=$(`#${b}`).attr("data-warranty"),k=parseFloat(j).toFixed(2),l=math.round(k/c,2).toFixed(2);$(".cb-warranty-original-price").html("$"+g),$(".cb-warranty-price").html("$"+l+"/ea"),$(".cb-click-bump-price").val(k),$(".cb-check-status").attr("data-price",k);let m=0;if($(".cb-check-status").prop("checked")){m=(parseFloat(f)+parseFloat(g)).toFixed(2);var n=(parseFloat(d)+parseFloat(k)).toFixed(2);$(".cb-click-bump-order-sum-div").removeClass("d-none"),$(".cb-click-bump-order-sum-div").addClass("d-flex")}else{var n=parseFloat(d);m=f,$(".cb-click-bump-order-sum-div").removeClass("d-flex"),$(".cb-click-bump-order-sum-div").addClass("d-none")}var o=m-n;$(".cb-shipping-price").text("$"+e);var p=(parseFloat(n)+parseFloat(e)).toFixed(2);$(".cb-total-discount-applied").html(`${parseInt(i)}%`),$(".cb-total-discount").html(`${o.toFixed(2)}`),$(".cb-product-price").html(d),$(".cb-gtotal").text("$"+p),$(".cb-gtotal-without-shipping").text("$"+(parseFloat(p)-parseFloat(e)).toFixed(2)),$(".cb-cart-title").html(h),$(".cb-retail-price").text("$"+f),$(".cb-real-price").text("$"+d);var q=$(`#${b}`).find(".product-img").attr("src");$(".cb-orderd-product-img").attr("src",q),$(".product_regPrice").text(f);var r=$(`#${b}`).attr("data-unitPrice");$("[name=regprice]").val(f),$("[name=individualPrice]").val(r),$("[name=packageQuantity]").val(c),0==e?$("#shiptext").text("FAST N' FREE INSURED SHIPPING"):$("#shiptext").text("FAST INSURED SHIPPING"),a(!0)})}function product_selection(a){return new Promise(b=>{var c=window.discount||0;"0"==c?($(".cb-discount-off").hide(),$(".cb-discount-off-order-summary").hide()):($(".cb-discount-off").show(),$(".cb-discount-off-order-summary").show());let d;if("paypal"==a)$(".cb-remove-class-billing").removeClass("required"),$(".cb-remove-class").removeClass("required"),$("select[name=creditCardType]").val("paypal").trigger("change"),$(".cb-whats-this").hide(),d="CA"==$("select[name='shippingCountry']").val()?"PPCA":"PPUS";else if("credit_card"==a){$(".cb-remove-class, .cb-remove-class-billing").each(function(){$(this).hasClass("no-error")||$(this).addClass("required")}),$("[name=\"creditCardNumber\"]").val($("[name=\"creditCardNumber\"]").val()).trigger("change"),$(".cb-address-differs-check").is(":checked")?$(".cb-remove-class-billing").removeClass("required"):$(".cb-remove-class-billing").addClass("required"),$(".cb-whats-this").show();var e=$("select[name='shippingCountry']").val();d="CA"==e?"CA":"US"}var f=$(".cb-package-container.selected").attr("data-quantity");f&&($("[name='campaigns[1][id]']").val(productsNames[app_current_step.id].mainProduct[f].camp[d]),$("[name='campaigns[2][id]']").val(productsNames[app_current_step.id].splitProduct[1].camp[d]));try{validateCoupon()}catch(a){console.error(a)}setSessionParams(),b(!0)})}$(document).on("click",".cb-paypemt-radio",async function(){var a=$(".cb-paypemt-radio:checked").data("paymentmethod");"paypal"==a?($(".cb-ccheader").hide(),$(".cb-ppheader").show(),$(".cb-payment-pp").addClass("active"),$(".cb-payment-cc").removeClass("active"),$("#kform_paySourceCard").hide(),$("input[name=\"creditCardNumber\"]").val(""),$("input[name=\"creditCardNumber\"]").val(""),$("input[name=\"CVV\"]").val(""),$("select[name=\"expmonth\"]").val(""),$("select[name=\"expyear\"]").val("")):($(".cb-ccheader").show(),$(".cb-ppheader").hide(),$(".cb-payment-pp").removeClass("active"),$(".cb-payment-cc").addClass("active"),$("#kform_paySourceCard").show());var a=$(".cb-paypemt-radio:checked").data("paymentmethod");await product_selection(a)}),$(document).on("click",".cb-paypal-method",async function(){section_pay="paypal",await product_selection(section_pay)}),$(document).on("click",".cb-checkout-button",async function(){"paypal"==$(".cb-paypemt-radio:checked").data("paymentmethod")?(section_pay="paypal",await product_selection(section_pay)):(section_pay="credit_card",await product_selection(section_pay))}),$(document).on("change",".cb-address-differs-check",function(){$(".cb-address-differs-check").is(":checked")?$("input[name=\"billingSameAsShipping\"]").filter("[value=\"yes\"]").prop("checked",!0).trigger("change"):($("input[name=\"billingSameAsShipping\"]").filter("[value=\"no\"]").prop("checked",!0).trigger("change"),$("input[name=\"billingAddress2\"]").removeClass("required"))}),$(document).on("change","select[name=creditCardType]",function(){"paypal"==$(this).val()?$(".cb-credit-card-block").hide():$(".cb-credit-card-block").show(),"amex"==$(this).val()?$("input[name=CVV]").attr("maxlength","4"):$("input[name=CVV]").attr("maxlength","3")}),$(".cb-check-status").change(function(){this.checked?($(".cb-check-status").prop("checked",!0),enableSplitCampaigns()):($(".cb-check-status").prop("checked",!1),disableSplitCampaigns())});async function enableSplitCampaigns(){$(".cb-split-click-bump").prop("disabled",!1),$(".cb-click-bump-price").prop("disabled",!1),await updateProductPrice(),await showPriceCheckout();var a=$(".cb-paypemt-radio:checked").data("paymentmethod");await product_selection(a)}async function disableSplitCampaigns(){$(".cb-split-click-bump").prop("disabled",!0),$(".cb-click-bump-price").prop("disabled",!0),await updateProductPrice(),await showPriceCheckout();var a=$(".cb-paypemt-radio:checked").data("paymentmethod");await product_selection(a)}var firstArray=["James","Mary","Robert","Jennifer","Michael","Elizabeth","Thomas","Nancy","Charles","Margaret","David","Ashley","Benjamin","Frank","Hannah","Karen","Lucy","Oscar","Peter","Rachel","Steve","Vanessa"],lastArray=["A","B","C","D","E","F","G","H","K","L","M","N","O","P","R","S","T","V","W","Y"],locationArray=["Birmingham, AL","Phoenix, AZ","Little Rock, AR","Los Angeles, CA","Denver, CO","Wilmington, DE","Washington D.C.","Jacksonville, FL","Atlanta, GA","Boise, ID","Chicago, IL","Indianapolis, IN","Wichita, KS","Louisville, KY","New Orleans, LA","Boston, MA","Lansing, MI","Jackson, MS","Omaha, NE","Las Vegas, NV","Newark, NJ","New York, NY","Albuquerque, NM","Charlotte, NC","Columbus, OH","Oklahoma City, OK","Philadelphia, PA","Columbia, SC","Memphis, TN","Houston, TX","Salt Lake City, UT","Seattle, WA","Milwaukee, WI","Cheyenne, WY"],quantityArray=["1","2","3","4","5"];setInterval(function(){var a=Math.floor(40*Math.random()+5);$("#randTime").html(a);var b=Math.floor(Math.random()*firstArray.length),c=firstArray[b];$("#randFirst").html(c);var d=Math.floor(Math.random()*lastArray.length),e=lastArray[d];$("#randLast").html(e);var f=Math.floor(Math.random()*locationArray.length),g=locationArray[f];$("#randLocation").html(g);var h=Math.floor(Math.random()*quantityArray.length),i=quantityArray[h];$("#randQuantity").html(i),1<i?$("#quantity-plural").html("s"):$("#quantity-plural").html(""),$(".w_fomo_wrapper").addClass("notify"),setTimeout(function(){$(".w_fomo_wrapper").removeClass("notify")},5400)},15e3);function setSessionParams(){$.ajax({url:"update-data.php?act=data-layer-update-config",type:"POST",data:{couponCode:$("input[name='coupon_code']").val(),regprice:$("[name=regprice]").val(),individualPrice:$("[name=individualPrice]").val(),packageQuantity:$("[name=packageQuantity]").val(),steps:"steps",index:app_current_step.id},success:function(){}})}const validateEmail=a=>{return /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test((a+"").toLowerCase())};$("input[name='firstName'], input[name='lastName'],input[name='phone'],input[name='email']").on("change",function(){let a=!0;if($("input[name='firstName'], input[name='lastName'], input[name='email']").each(function(){if(""==$(this).val()||!validateEmail($("input[name=email]").val()))return a=!1,!1}),a)try{stickyProspect.updateOrCreateProspect().then(a=>{a.success?dataLayer.push({event:"contact_info_saved"}):dataLayer.push({event:"contact_info_save_error"})})}catch(a){console.error(a)}});function validateCoupon(){$.ajax({type:"POST",url:app_config.offer_path+AJAX_PATH+"extensions/coupons/validate-coupon",data:{coupon_code:$("input[name='coupon_code']").val(),campaign_id:$("[name='campaigns[1][id]']").val(),email:$("input[name='email']").val()},cache:!1,success:function(){}})}$("select[name='shippingCountry']").change(function(){"US"==$(this).val()?$("input[name='shippingZip']").prop("type","tel"):$("input[name='shippingZip']").prop("type","text")}),$("select[name='billingCountry']").change(function(){"US"==$(this).val()?$("input[name='billingZip']").prop("type","tel"):$("input[name='billingZip']").prop("type","text")}),$("form").on("submit",function(){"paypal"===$("select[name=creditCardType]").find(":selected").val()&&(""===$("select[name='shippingCountry']").val()&&$("select[name='shippingCountry']").val(cnty_code).trigger("change"),$("input[name='email']").hasClass("has-error")&&$("input[name='email']").val(""),""===$("select[name='billingCountry']").val()&&$("select[name='billingCountry']").val(cnty_code).trigger("change")),"amex"==$("select[name='creditCardType']").val()?4!=$("input[name=CVV]").val().length&&($("input[name=CVV]").removeClass("no-error"),$("input[name=CVV]").addClass("has-error")):3!=$("input[name=CVV]").val().length&&($("input[name=CVV]").removeClass("no-error"),$("input[name=CVV]").addClass("has-error"))});function updateProductData(){return new Promise(async a=>{let b;b="paypal"==$("select[name=creditCardType]").val()?"CA"==$("select[name='shippingCountry']").val()?"PPCA":"PPUS":"CA"==$("select[name='shippingCountry']").val()?"CA":"US",await Promise.bind(Object.keys(productsNames[app_current_step.id]).forEach(a=>{Object.keys(productsNames[app_current_step.id][a]).forEach(c=>{let d=productsNames[app_current_step.id][a][c].camp[b];productsNames[app_current_step.id][a][c].product=[...productsNames[app_current_step.id][a][c].product,...JSON.parse(campaigns[d].product_array)],productsNames[app_current_step.id][a][c].shipping_price=parseFloat(campaigns[d].shipping_price)})}));let c=productsNames[app_current_step.id].mainProduct;await Promise.bind(Object.keys(c).forEach(a=>{let b=c[a].product[0];$(".cb-package-container").filter(`#product${a}`).attr("data-quantity",a),$(".cb-package-container").filter(`#product${a}`).attr("data-price",b.product_price),$(".cb-package-container").filter(`#product${a}`).attr("data-regPrice",b.retail_price),$(".cb-package-container").filter(`#product${a}`).attr("data-ship",c[a].shipping_price),$(".cb-package-container").filter(`#product${a}`).attr("data-warranty",b.data_warranty),$(".cb-package-container").filter(`#product${a}`).attr("data-name",b.data_name),$(".cb-package-container").filter(`#product${a}`).attr("data-package-discount",b.data_discount)})),a(!0)})}$("select[name='shippingCountry']").on("change",async function(){await updateProductData(),await updateProductPrice(),await showPriceCheckout(),await product_selection($(".cb-paypemt-radio:checked").data("paymentmethod"))}),$("select[name=creditCardType]").on("change",async function(a){a.originalEvent!==void 0&&(await updateProductData(),await updateProductPrice(),await showPriceCheckout()),"amex"!=$(this).val()&&3<($("input[name=CVV]").val()+"").length&&$("input[name=CVV]").val("")}),$("select[name=creditCardType]").on("change",function(){"amex"!=$(this).val()&&3<($("input[name=CVV]").val()+"").length&&$("input[name=CVV]").val("")}),$("#applyCoupon1,#applyCoupon2").on("click",function(a){a.preventDefault(),applyCoupon()});var coupon="";function applyCoupon(){cb.errorHandler(["Please enter a valid coupon."])}